{"version":3,"file":"SpaaaceRenderer.js","names":["_lanceGg","require","_Utils","_interopRequireDefault","_Ship","obj","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","prototype","arg","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","Number","_get","Reflect","get","bind","property","receiver","base","_superPropBase","desc","getOwnPropertyDescriptor","arguments","value","apply","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","PIXI","SpaaaceRenderer","_Renderer","_super","gameEngine","clientEngine","_this","sprites","isReady","assetPathPrefix","options","bgPhaseX","bgPhaseY","ship","missile","bg1","bg2","bg3","bg4","smokeParticle","init","_this2","viewportWidth","window","innerWidth","viewportHeight","innerHeight","stage","Container","layer1","layer2","addChild","document","readyState","onDOMLoaded","addEventListener","Promise","resolve","reject","loader","add","keys","ASSETPATHS","map","x","name","url","load","setupStage","Utils","isTouchDevice","body","classList","isMacintosh","isWindows","emit","renderer","autoDetectRenderer","querySelector","appendChild","view","_this3","setRendererSize","lookingAt","y","camera","extras","TilingSprite","resources","texture","blendMode","BLEND_MODES","ADD","alpha","elapsedTime","Date","now","getUrlVars","graphics","Graphics","beginFill","drawRect","worldSettings","width","height","resize","draw","t","dt","worldWidth","worldHeight","viewportSeesRightBound","viewportSeesLeftBound","viewportSeesTopBound","viewportSeesBottomBound","_i","_Object$keys","objId","objData","world","objects","sprite","actor","thrustEmitter","showThrust","Ship","playerShip","updateOffscreenIndicator","position","shipContainerSprite","rotation","angle","Math","PI","renderStep","cameraTarget","gameStarted","getCentroid","cameraRoam","lookingAtDeltaX","lookingAtDeltaY","cameraTempTargetX","cameraTempTargetY","centerCamera","bgOffsetX","bgOffsetY","tilePosition","render","addPlayerShip","shipSprite","tint","remove","contains","disabled","style","opacity","setTimeout","targetX","targetY","isNaN","lastCameraPosition","addOffscreenIndicator","container","indicatorEl","createElement","setAttribute","id","console","error","concat","playerShipObj","slope","b","padding","indicatorPos","atan2","transform","removeOffscreenIndicator","parentNode","removeChild","updateHUD","data","RTT","qs","innerHTML","RTTAverage","truncateDecimals","updateScore","scoreContainer","scoreArray","scoreEls","querySelectorAll","dataset","_i2","_Object$keys2","scoreEl","parseInt","changeName","kills","push","el","sort","a","onKeyChange","keyName","isDown","enableFullScreen","isInFullScreen","fullScreenElement","mozFullScreen","webkitIsFullScreen","isIPhoneIPad","docElm","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullScreen","gameCoordsToScreen","Renderer","exports","maxDistance","shipCount","centroid","selectedShip","_i3","_Object$keys3","objDistance","sqrt","pow","selector","number","digits","multiplier","adjustedNum","truncatedNum","navigator","platform","indexOf","match"],"sources":["../../src/client/SpaaaceRenderer.js"],"sourcesContent":["let PIXI = null;\nimport { Renderer } from \"lance-gg\";\nimport Utils from \"./../common/Utils\";\nimport Ship from \"../common/Ship\";\n\n/**\n * Renderer for the Spaaace client - based on Pixi.js\n */\nexport default class SpaaaceRenderer extends Renderer {\n  get ASSETPATHS() {\n    return {\n      ship: \"assets/ship1.png\",\n      missile: \"assets/shot.png\",\n      bg1: \"assets/space3.png\",\n      bg2: \"assets/space2.png\",\n      bg3: \"assets/clouds2.png\",\n      bg4: \"assets/clouds1.png\",\n      smokeParticle: \"assets/smokeparticle.png\",\n    };\n  }\n\n  // TODO: document\n  constructor(gameEngine, clientEngine) {\n    super(gameEngine, clientEngine);\n    PIXI = require(\"pixi.js\");\n    this.sprites = {};\n    this.isReady = false;\n\n    // asset prefix\n    this.assetPathPrefix = this.gameEngine.options.assetPathPrefix ? this.gameEngine.options.assetPathPrefix : \"\";\n\n    // these define how many gameWorlds the player ship has \"scrolled\" through\n    this.bgPhaseX = 0;\n    this.bgPhaseY = 0;\n  }\n\n  init() {\n    this.viewportWidth = window.innerWidth;\n    this.viewportHeight = window.innerHeight;\n\n    this.stage = new PIXI.Container();\n    this.layer1 = new PIXI.Container();\n    this.layer2 = new PIXI.Container();\n\n    this.stage.addChild(this.layer1, this.layer2);\n\n    if (\n      document.readyState === \"complete\" ||\n      document.readyState === \"loaded\" ||\n      document.readyState === \"interactive\"\n    ) {\n      this.onDOMLoaded();\n    } else {\n      document.addEventListener(\"DOMContentLoaded\", () => {\n        this.onDOMLoaded();\n      });\n    }\n\n    return new Promise((resolve, reject) => {\n      PIXI.loader\n        .add(\n          Object.keys(this.ASSETPATHS).map((x) => {\n            return {\n              name: x,\n              url: this.assetPathPrefix + this.ASSETPATHS[x],\n            };\n          }),\n        )\n        .load(() => {\n          this.isReady = true;\n          this.setupStage();\n\n          if (Utils.isTouchDevice()) {\n            document.body.classList.add(\"touch\");\n          } else if (isMacintosh()) {\n            document.body.classList.add(\"mac\");\n          } else if (isWindows()) {\n            document.body.classList.add(\"pc\");\n          }\n\n          resolve();\n\n          this.gameEngine.emit(\"renderer.ready\");\n        });\n    });\n  }\n\n  onDOMLoaded() {\n    this.renderer = PIXI.autoDetectRenderer(this.viewportWidth, this.viewportHeight);\n    document.body.querySelector(\".pixiContainer\").appendChild(this.renderer.view);\n  }\n\n  setupStage() {\n    window.addEventListener(\"resize\", () => {\n      this.setRendererSize();\n    });\n\n    this.lookingAt = { x: 0, y: 0 };\n    this.camera = new PIXI.Container();\n    this.camera.addChild(this.layer1, this.layer2);\n\n    // parallax background\n    this.bg1 = new PIXI.extras.TilingSprite(PIXI.loader.resources.bg1.texture, this.viewportWidth, this.viewportHeight);\n    this.bg2 = new PIXI.extras.TilingSprite(PIXI.loader.resources.bg2.texture, this.viewportWidth, this.viewportHeight);\n    this.bg3 = new PIXI.extras.TilingSprite(PIXI.loader.resources.bg3.texture, this.viewportWidth, this.viewportHeight);\n    this.bg4 = new PIXI.extras.TilingSprite(PIXI.loader.resources.bg4.texture, this.viewportWidth, this.viewportHeight);\n\n    this.bg3.blendMode = PIXI.BLEND_MODES.ADD;\n    this.bg4.blendMode = PIXI.BLEND_MODES.ADD;\n    this.bg4.alpha = 0.6;\n\n    this.stage.addChild(this.bg1, this.bg2, this.bg3, this.bg4);\n    this.stage.addChild(this.camera);\n\n    // this.debug= new PIXI.Graphics();\n    // this.camera.addChild(this.debug);\n\n    // this.debugText = new PIXI.Text('DEBUG', {fontFamily:\"arial\", fontSize: \"100px\", fill:\"white\"});\n    // this.debugText.anchor.set(0.5, 0.5);\n    // this.debugText.x = this.gameEngine.worldSettings.width/2;\n    // this.debugText.y = this.gameEngine.worldSettings.height/2;\n    // this.camera.addChild(this.debugText);\n\n    this.elapsedTime = Date.now();\n    // debug\n    if (\"showworldbounds\" in Utils.getUrlVars()) {\n      let graphics = new PIXI.Graphics();\n      graphics.beginFill(0xffffff);\n      graphics.alpha = 0.1;\n      graphics.drawRect(0, 0, this.gameEngine.worldSettings.width, this.gameEngine.worldSettings.height);\n      this.camera.addChild(graphics);\n    }\n  }\n\n  setRendererSize() {\n    this.viewportWidth = window.innerWidth;\n    this.viewportHeight = window.innerHeight;\n\n    this.bg1.width = this.viewportWidth;\n    this.bg1.height = this.viewportHeight;\n    this.bg2.width = this.viewportWidth;\n    this.bg2.height = this.viewportHeight;\n    this.bg3.width = this.viewportWidth;\n    this.bg3.height = this.viewportHeight;\n    this.bg4.width = this.viewportWidth;\n    this.bg4.height = this.viewportHeight;\n\n    this.renderer.resize(this.viewportWidth, this.viewportHeight);\n  }\n\n  draw(t, dt) {\n    super.draw(t, dt);\n\n    let now = Date.now();\n\n    if (!this.isReady) return; // assets might not have been loaded yet\n    let worldWidth = this.gameEngine.worldSettings.width;\n    let worldHeight = this.gameEngine.worldSettings.height;\n\n    let viewportSeesRightBound = this.camera.x < this.viewportWidth - worldWidth;\n    let viewportSeesLeftBound = this.camera.x > 0;\n    let viewportSeesTopBound = this.camera.y > 0;\n    let viewportSeesBottomBound = this.camera.y < this.viewportHeight - worldHeight;\n\n    for (let objId of Object.keys(this.sprites)) {\n      let objData = this.gameEngine.world.objects[objId];\n      let sprite = this.sprites[objId];\n\n      if (objData) {\n        // if the object requests a \"showThrust\" then invoke it in the actor\n        if (sprite.actor && sprite.actor.thrustEmitter) {\n          sprite.actor.thrustEmitter.emit = !!objData.showThrust;\n        }\n\n        if (objData instanceof Ship && sprite != this.playerShip) {\n          this.updateOffscreenIndicator(objData);\n        }\n\n        sprite.x = objData.position.x;\n        sprite.y = objData.position.y;\n\n        if (objData instanceof Ship) {\n          sprite.actor.shipContainerSprite.rotation = (this.gameEngine.world.objects[objId].angle * Math.PI) / 180;\n        } else {\n          sprite.rotation = (this.gameEngine.world.objects[objId].angle * Math.PI) / 180;\n        }\n\n        // make the wraparound seamless for objects other than the player ship\n        if (\n          sprite != this.playerShip &&\n          viewportSeesLeftBound &&\n          objData.position.x > this.viewportWidth - this.camera.x\n        ) {\n          sprite.x = objData.position.x - worldWidth;\n        }\n        if (sprite != this.playerShip && viewportSeesRightBound && objData.position.x < -this.camera.x) {\n          sprite.x = objData.position.x + worldWidth;\n        }\n        if (\n          sprite != this.playerShip &&\n          viewportSeesTopBound &&\n          objData.position.y > this.viewportHeight - this.camera.y\n        ) {\n          sprite.y = objData.position.y - worldHeight;\n        }\n        if (sprite != this.playerShip && viewportSeesBottomBound && objData.position.y < -this.camera.y) {\n          sprite.y = objData.position.y + worldHeight;\n        }\n      }\n\n      if (sprite) {\n        // object is either a Pixi sprite or an Actor. Actors have renderSteps\n        if (sprite.actor && sprite.actor.renderStep) {\n          sprite.actor.renderStep(now - this.elapsedTime);\n        }\n      }\n\n      // this.emit(\"postDraw\");\n    }\n\n    let cameraTarget;\n    if (this.playerShip) {\n      cameraTarget = this.playerShip;\n      // this.cameraRoam = false;\n    } else if (!this.gameStarted && !cameraTarget) {\n      // calculate centroid\n      cameraTarget = getCentroid(this.gameEngine.world.objects);\n      this.cameraRoam = true;\n    }\n\n    if (cameraTarget) {\n      // let bgOffsetX = -this.bgPhaseX * worldWidth - cameraTarget.x;\n      // let bgOffsetY = -this.bgPhaseY * worldHeight - cameraTarget.y;\n\n      // 'cameraroam' in Utils.getUrlVars()\n      if (this.cameraRoam) {\n        let lookingAtDeltaX = cameraTarget.x - this.lookingAt.x;\n        let lookingAtDeltaY = cameraTarget.y - this.lookingAt.y;\n        let cameraTempTargetX;\n        let cameraTempTargetY;\n\n        if (lookingAtDeltaX > worldWidth / 2) {\n          this.bgPhaseX++;\n          cameraTempTargetX = this.lookingAt.x + worldWidth;\n        } else if (lookingAtDeltaX < -worldWidth / 2) {\n          this.bgPhaseX--;\n          cameraTempTargetX = this.lookingAt.x - worldWidth;\n        } else {\n          cameraTempTargetX = this.lookingAt.x + lookingAtDeltaX * 0.02;\n        }\n\n        if (lookingAtDeltaY > worldHeight / 2) {\n          cameraTempTargetY = this.lookingAt.y + worldHeight;\n          this.bgPhaseY++;\n        } else if (lookingAtDeltaY < -worldHeight / 2) {\n          this.bgPhaseY--;\n          cameraTempTargetY = this.lookingAt.y - worldHeight;\n        } else {\n          cameraTempTargetY = this.lookingAt.y + lookingAtDeltaY * 0.02;\n        }\n\n        this.centerCamera(cameraTempTargetX, cameraTempTargetY);\n      } else {\n        this.centerCamera(cameraTarget.x, cameraTarget.y);\n      }\n    }\n\n    let bgOffsetX = this.bgPhaseX * worldWidth + this.camera.x;\n    let bgOffsetY = this.bgPhaseY * worldHeight + this.camera.y;\n\n    this.bg1.tilePosition.x = bgOffsetX * 0.01;\n    this.bg1.tilePosition.y = bgOffsetY * 0.01;\n\n    this.bg2.tilePosition.x = bgOffsetX * 0.04;\n    this.bg2.tilePosition.y = bgOffsetY * 0.04;\n\n    this.bg3.tilePosition.x = bgOffsetX * 0.3;\n    this.bg3.tilePosition.y = bgOffsetY * 0.3;\n\n    this.bg4.tilePosition.x = bgOffsetX * 0.75;\n    this.bg4.tilePosition.y = bgOffsetY * 0.75;\n\n    this.elapsedTime = now;\n\n    // Render the stage\n    this.renderer.render(this.stage);\n  }\n\n  addPlayerShip(sprite) {\n    this.playerShip = sprite;\n    sprite.actor.shipSprite.tint = 0xff00ff; // color  player ship\n    document.body.classList.remove(\"lostGame\");\n    if (!document.body.classList.contains(\"tutorialDone\")) {\n      document.body.classList.add(\"tutorial\");\n    }\n    document.body.classList.remove(\"lostGame\");\n    document.body.classList.add(\"gameActive\");\n    document.querySelector(\"#tryAgain\").disabled = true;\n    document.querySelector(\"#joinGame\").disabled = true;\n    document.querySelector(\"#joinGame\").style.opacity = 0;\n\n    this.gameStarted = true; // todo state shouldn't be saved in the renderer\n\n    // remove the tutorial if required after a timeout\n    setTimeout(() => {\n      document.body.classList.remove(\"tutorial\");\n    }, 10000);\n  }\n\n  /**\n   * Centers the viewport on a coordinate in the gameworld\n   * @param {Number} targetX\n   * @param {Number} targetY\n   */\n  centerCamera(targetX, targetY) {\n    if (isNaN(targetX) || isNaN(targetY)) return;\n    if (!this.lastCameraPosition) {\n      this.lastCameraPosition = {};\n    }\n\n    this.lastCameraPosition.x = this.camera.x;\n    this.lastCameraPosition.y = this.camera.y;\n\n    this.camera.x = this.viewportWidth / 2 - targetX;\n    this.camera.y = this.viewportHeight / 2 - targetY;\n    this.lookingAt.x = targetX;\n    this.lookingAt.y = targetY;\n  }\n\n  addOffscreenIndicator(objData) {\n    let container = document.querySelector(\"#offscreenIndicatorContainer\");\n    let indicatorEl = document.createElement(\"div\");\n    indicatorEl.setAttribute(\"id\", \"offscreenIndicator\" + objData.id);\n    indicatorEl.classList.add(\"offscreenIndicator\");\n    container.appendChild(indicatorEl);\n  }\n\n  updateOffscreenIndicator(objData) {\n    // player ship might have been destroyed\n    if (!this.playerShip) return;\n\n    let indicatorEl = document.querySelector(\"#offscreenIndicator\" + objData.id);\n    if (!indicatorEl) {\n      console.error(`No indicatorEl found with id ${objData.id}`);\n      return;\n    }\n    let playerShipObj = this.gameEngine.world.objects[this.playerShip.id];\n    let slope = (objData.position.y - playerShipObj.position.y) / (objData.position.x - playerShipObj.position.x);\n    let b = this.viewportHeight / 2;\n\n    let padding = 30;\n    let indicatorPos = { x: 0, y: 0 };\n\n    if (objData.position.y < playerShipObj.position.y - this.viewportHeight / 2) {\n      indicatorPos.x = this.viewportWidth / 2 + (padding - b) / slope;\n      indicatorPos.y = padding;\n    } else if (objData.position.y > playerShipObj.position.y + this.viewportHeight / 2) {\n      indicatorPos.x = this.viewportWidth / 2 + (this.viewportHeight - padding - b) / slope;\n      indicatorPos.y = this.viewportHeight - padding;\n    }\n\n    if (objData.position.x < playerShipObj.position.x - this.viewportWidth / 2) {\n      indicatorPos.x = padding;\n      indicatorPos.y = slope * (-this.viewportWidth / 2 + padding) + b;\n    } else if (objData.position.x > playerShipObj.position.x + this.viewportWidth / 2) {\n      indicatorPos.x = this.viewportWidth - padding;\n      indicatorPos.y = slope * (this.viewportWidth / 2 - padding) + b;\n    }\n\n    if (indicatorPos.x == 0 && indicatorPos.y == 0) {\n      indicatorEl.style.opacity = 0;\n    } else {\n      indicatorEl.style.opacity = 1;\n      let rotation = Math.atan2(\n        objData.position.y - playerShipObj.position.y,\n        objData.position.x - playerShipObj.position.x,\n      );\n      rotation = (rotation * 180) / Math.PI; // rad2deg\n      indicatorEl.style.transform = `translateX(${indicatorPos.x}px) translateY(${indicatorPos.y}px) rotate(${rotation}deg) `;\n    }\n  }\n\n  removeOffscreenIndicator(objData) {\n    let indicatorEl = document.querySelector(\"#offscreenIndicator\" + objData.id);\n    if (indicatorEl && indicatorEl.parentNode) indicatorEl.parentNode.removeChild(indicatorEl);\n  }\n\n  updateHUD(data) {\n    if (data.RTT) {\n      qs(\".latencyData\").innerHTML = data.RTT;\n    }\n    if (data.RTTAverage) {\n      qs(\".averageLatencyData\").innerHTML = truncateDecimals(data.RTTAverage, 2);\n    }\n  }\n\n  updateScore(data) {\n    let scoreContainer = qs(\".score\");\n    let scoreArray = [];\n\n    // remove score lines with objects that don't exist anymore\n    let scoreEls = scoreContainer.querySelectorAll(\".line\");\n    for (let x = 0; x < scoreEls.length; x++) {\n      if (data[scoreEls[x].dataset.objId] == null) {\n        scoreEls[x].parentNode.removeChild(scoreEls[x]);\n      }\n    }\n\n    for (let id of Object.keys(data)) {\n      let scoreEl = scoreContainer.querySelector(`[data-obj-id='${id}']`);\n      // create score line if it doesn't exist\n      if (scoreEl == null) {\n        scoreEl = document.createElement(\"div\");\n        scoreEl.classList.add(\"line\");\n        if (this.playerShip && this.playerShip.id == parseInt(id)) scoreEl.classList.add(\"you\");\n        scoreEl.dataset.objId = id;\n        scoreContainer.appendChild(scoreEl);\n      }\n\n      // stupid string/number conversion\n      if (this.sprites[parseInt(id)]) this.sprites[parseInt(id)].actor.changeName(data[id].name);\n\n      scoreEl.innerHTML = `${data[id].name}: ${data[id].kills}`;\n\n      scoreArray.push({\n        el: scoreEl,\n        data: data[id],\n      });\n    }\n\n    scoreArray.sort((a, b) => {\n      return a.data.kills < b.data.kills;\n    });\n\n    for (let x = 0; x < scoreArray.length; x++) {\n      scoreArray[x].el.style.transform = `translateY(${x}rem)`;\n    }\n  }\n\n  onKeyChange(e) {\n    if (this.playerShip) {\n      if (e.keyName === \"up\") {\n        this.playerShip.actor.thrustEmitter.emit = e.isDown;\n      }\n    }\n  }\n\n  enableFullScreen() {\n    let isInFullScreen =\n      (document.fullScreenElement && document.fullScreenElement !== null) || // alternative standard method\n      document.mozFullScreen ||\n      document.webkitIsFullScreen;\n\n    // iOS fullscreen generates user warnings\n    if (isIPhoneIPad()) return;\n\n    let docElm = document.documentElement;\n    if (!isInFullScreen) {\n      if (docElm.requestFullscreen) {\n        docElm.requestFullscreen();\n      } else if (docElm.mozRequestFullScreen) {\n        docElm.mozRequestFullScreen();\n      } else if (docElm.webkitRequestFullScreen) {\n        // NOTE: disabled on iOS/Safari, because it generated a\n        // phishing warning.\n        // docElm.webkitRequestFullScreen();\n      }\n    }\n  }\n\n  /*\n   * Takes in game coordinates and translates them into screen coordinates\n   * @param obj an object with x and y properties\n   */\n  gameCoordsToScreen(obj) {\n    // console.log(obj.x , this.viewportWidth / 2 , this.camera.x)\n    return {\n      x: obj.position.x + this.camera.x,\n      y: obj.position.y + this.camera.y,\n    };\n  }\n}\n\nfunction getCentroid(objects) {\n  let maxDistance = 500; // max distance to add to the centroid\n  let shipCount = 0;\n  let centroid = { x: 0, y: 0 };\n  let selectedShip = null;\n\n  for (let id of Object.keys(objects)) {\n    let obj = objects[id];\n    if (obj instanceof Ship) {\n      if (selectedShip == null) selectedShip = obj;\n\n      let objDistance = Math.sqrt(\n        Math.pow(selectedShip.position.x - obj.position.y, 2) + Math.pow(selectedShip.position.y - obj.position.y, 2),\n      );\n      if (selectedShip == obj || objDistance < maxDistance) {\n        centroid.x += obj.position.x;\n        centroid.y += obj.position.y;\n        shipCount++;\n      }\n    }\n  }\n\n  centroid.x /= shipCount;\n  centroid.y /= shipCount;\n\n  return centroid;\n}\n\n// convenience function\nfunction qs(selector) {\n  return document.querySelector(selector);\n}\n\nfunction truncateDecimals(number, digits) {\n  let multiplier = Math.pow(10, digits);\n  let adjustedNum = number * multiplier;\n  let truncatedNum = Math[adjustedNum < 0 ? \"ceil\" : \"floor\"](adjustedNum);\n\n  return truncatedNum / multiplier;\n}\n\nfunction isMacintosh() {\n  return navigator.platform.indexOf(\"Mac\") > -1;\n}\n\nfunction isWindows() {\n  return navigator.platform.indexOf(\"Win\") > -1;\n}\n\nfunction isIPhoneIPad() {\n  return navigator.platform.match(/i(Phone|Pod)/i) !== null;\n}\n"],"mappings":";;;;;;;AACA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,KAAA,GAAAD,sBAAA,CAAAF,OAAA;AAAkC,SAAAE,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAAA,SAAAE,gBAAAC,QAAA,EAAAC,WAAA,UAAAD,QAAA,YAAAC,WAAA,eAAAC,SAAA;AAAA,SAAAC,kBAAAC,MAAA,EAAAC,KAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAD,KAAA,CAAAE,MAAA,EAAAD,CAAA,UAAAE,UAAA,GAAAH,KAAA,CAAAC,CAAA,GAAAE,UAAA,CAAAC,UAAA,GAAAD,UAAA,CAAAC,UAAA,WAAAD,UAAA,CAAAE,YAAA,wBAAAF,UAAA,EAAAA,UAAA,CAAAG,QAAA,SAAAC,MAAA,CAAAC,cAAA,CAAAT,MAAA,EAAAU,cAAA,CAAAN,UAAA,CAAAO,GAAA,GAAAP,UAAA;AAAA,SAAAQ,aAAAf,WAAA,EAAAgB,UAAA,EAAAC,WAAA,QAAAD,UAAA,EAAAd,iBAAA,CAAAF,WAAA,CAAAkB,SAAA,EAAAF,UAAA,OAAAC,WAAA,EAAAf,iBAAA,CAAAF,WAAA,EAAAiB,WAAA,GAAAN,MAAA,CAAAC,cAAA,CAAAZ,WAAA,iBAAAU,QAAA,mBAAAV,WAAA;AAAA,SAAAa,eAAAM,GAAA,QAAAL,GAAA,GAAAM,YAAA,CAAAD,GAAA,oBAAAE,OAAA,CAAAP,GAAA,iBAAAA,GAAA,GAAAQ,MAAA,CAAAR,GAAA;AAAA,SAAAM,aAAAG,KAAA,EAAAC,IAAA,QAAAH,OAAA,CAAAE,KAAA,kBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAAG,MAAA,CAAAC,WAAA,OAAAF,IAAA,KAAAG,SAAA,QAAAC,GAAA,GAAAJ,IAAA,CAAAK,IAAA,CAAAP,KAAA,EAAAC,IAAA,oBAAAH,OAAA,CAAAQ,GAAA,uBAAAA,GAAA,YAAA5B,SAAA,4DAAAuB,IAAA,gBAAAF,MAAA,GAAAS,MAAA,EAAAR,KAAA;AAAA,SAAAS,KAAA,eAAAC,OAAA,oBAAAA,OAAA,CAAAC,GAAA,IAAAF,IAAA,GAAAC,OAAA,CAAAC,GAAA,CAAAC,IAAA,aAAAH,IAAA,YAAAA,KAAA7B,MAAA,EAAAiC,QAAA,EAAAC,QAAA,QAAAC,IAAA,GAAAC,cAAA,CAAApC,MAAA,EAAAiC,QAAA,QAAAE,IAAA,cAAAE,IAAA,GAAA7B,MAAA,CAAA8B,wBAAA,CAAAH,IAAA,EAAAF,QAAA,OAAAI,IAAA,CAAAN,GAAA,WAAAM,IAAA,CAAAN,GAAA,CAAAJ,IAAA,CAAAY,SAAA,CAAApC,MAAA,OAAAH,MAAA,GAAAkC,QAAA,YAAAG,IAAA,CAAAG,KAAA,cAAAX,IAAA,CAAAY,KAAA,OAAAF,SAAA;AAAA,SAAAH,eAAAM,MAAA,EAAAT,QAAA,YAAAzB,MAAA,CAAAO,SAAA,CAAA4B,cAAA,CAAAhB,IAAA,CAAAe,MAAA,EAAAT,QAAA,KAAAS,MAAA,GAAAE,eAAA,CAAAF,MAAA,OAAAA,MAAA,2BAAAA,MAAA;AAAA,SAAAG,UAAAC,QAAA,EAAAC,UAAA,eAAAA,UAAA,mBAAAA,UAAA,uBAAAjD,SAAA,0DAAAgD,QAAA,CAAA/B,SAAA,GAAAP,MAAA,CAAAwC,MAAA,CAAAD,UAAA,IAAAA,UAAA,CAAAhC,SAAA,IAAAkC,WAAA,IAAAT,KAAA,EAAAM,QAAA,EAAAvC,QAAA,QAAAD,YAAA,aAAAE,MAAA,CAAAC,cAAA,CAAAqC,QAAA,iBAAAvC,QAAA,gBAAAwC,UAAA,EAAAG,eAAA,CAAAJ,QAAA,EAAAC,UAAA;AAAA,SAAAG,gBAAAC,CAAA,EAAAC,CAAA,IAAAF,eAAA,GAAA1C,MAAA,CAAA6C,cAAA,GAAA7C,MAAA,CAAA6C,cAAA,CAAArB,IAAA,cAAAkB,gBAAAC,CAAA,EAAAC,CAAA,IAAAD,CAAA,CAAAG,SAAA,GAAAF,CAAA,SAAAD,CAAA,YAAAD,eAAA,CAAAC,CAAA,EAAAC,CAAA;AAAA,SAAAG,aAAAC,OAAA,QAAAC,yBAAA,GAAAC,yBAAA,oBAAAC,qBAAA,QAAAC,KAAA,GAAAhB,eAAA,CAAAY,OAAA,GAAAK,MAAA,MAAAJ,yBAAA,QAAAK,SAAA,GAAAlB,eAAA,OAAAK,WAAA,EAAAY,MAAA,GAAA/B,OAAA,CAAAiC,SAAA,CAAAH,KAAA,EAAArB,SAAA,EAAAuB,SAAA,YAAAD,MAAA,GAAAD,KAAA,CAAAnB,KAAA,OAAAF,SAAA,YAAAyB,0BAAA,OAAAH,MAAA;AAAA,SAAAG,2BAAAC,IAAA,EAAAtC,IAAA,QAAAA,IAAA,KAAAT,OAAA,CAAAS,IAAA,yBAAAA,IAAA,2BAAAA,IAAA,aAAAA,IAAA,yBAAA7B,SAAA,uEAAAoE,sBAAA,CAAAD,IAAA;AAAA,SAAAC,uBAAAD,IAAA,QAAAA,IAAA,yBAAAE,cAAA,wEAAAF,IAAA;AAAA,SAAAP,0BAAA,eAAA5B,OAAA,qBAAAA,OAAA,CAAAiC,SAAA,oBAAAjC,OAAA,CAAAiC,SAAA,CAAAK,IAAA,2BAAAC,KAAA,oCAAAC,OAAA,CAAAvD,SAAA,CAAAwD,OAAA,CAAA5C,IAAA,CAAAG,OAAA,CAAAiC,SAAA,CAAAO,OAAA,8CAAAE,CAAA;AAAA,SAAA5B,gBAAAO,CAAA,IAAAP,eAAA,GAAApC,MAAA,CAAA6C,cAAA,GAAA7C,MAAA,CAAAiE,cAAA,CAAAzC,IAAA,cAAAY,gBAAAO,CAAA,WAAAA,CAAA,CAAAG,SAAA,IAAA9C,MAAA,CAAAiE,cAAA,CAAAtB,CAAA,aAAAP,eAAA,CAAAO,CAAA;AAHlC,IAAIuB,IAAI,GAAG,IAAI;AAKf;AACA;AACA;AAFA,IAGqBC,eAAe,0BAAAC,SAAA;EAAA/B,SAAA,CAAA8B,eAAA,EAAAC,SAAA;EAAA,IAAAC,MAAA,GAAAtB,YAAA,CAAAoB,eAAA;EAalC;EACA,SAAAA,gBAAYG,UAAU,EAAEC,YAAY,EAAE;IAAA,IAAAC,KAAA;IAAArF,eAAA,OAAAgF,eAAA;IACpCK,KAAA,GAAAH,MAAA,CAAAlD,IAAA,OAAMmD,UAAU,EAAEC,YAAY;IAC9BL,IAAI,GAAGrF,OAAO,CAAC,SAAS,CAAC;IACzB2F,KAAA,CAAKC,OAAO,GAAG,CAAC,CAAC;IACjBD,KAAA,CAAKE,OAAO,GAAG,KAAK;;IAEpB;IACAF,KAAA,CAAKG,eAAe,GAAGH,KAAA,CAAKF,UAAU,CAACM,OAAO,CAACD,eAAe,GAAGH,KAAA,CAAKF,UAAU,CAACM,OAAO,CAACD,eAAe,GAAG,EAAE;;IAE7G;IACAH,KAAA,CAAKK,QAAQ,GAAG,CAAC;IACjBL,KAAA,CAAKM,QAAQ,GAAG,CAAC;IAAC,OAAAN,KAAA;EACpB;EAACpE,YAAA,CAAA+D,eAAA;IAAAhE,GAAA;IAAAoB,GAAA,EAzBD,SAAAA,IAAA,EAAiB;MACf,OAAO;QACLwD,IAAI,EAAE,kBAAkB;QACxBC,OAAO,EAAE,iBAAiB;QAC1BC,GAAG,EAAE,mBAAmB;QACxBC,GAAG,EAAE,mBAAmB;QACxBC,GAAG,EAAE,oBAAoB;QACzBC,GAAG,EAAE,oBAAoB;QACzBC,aAAa,EAAE;MACjB,CAAC;IACH;EAAC;IAAAlF,GAAA;IAAA6B,KAAA,EAiBD,SAAAsD,KAAA,EAAO;MAAA,IAAAC,MAAA;MACL,IAAI,CAACC,aAAa,GAAGC,MAAM,CAACC,UAAU;MACtC,IAAI,CAACC,cAAc,GAAGF,MAAM,CAACG,WAAW;MAExC,IAAI,CAACC,KAAK,GAAG,IAAI3B,IAAI,CAAC4B,SAAS,EAAE;MACjC,IAAI,CAACC,MAAM,GAAG,IAAI7B,IAAI,CAAC4B,SAAS,EAAE;MAClC,IAAI,CAACE,MAAM,GAAG,IAAI9B,IAAI,CAAC4B,SAAS,EAAE;MAElC,IAAI,CAACD,KAAK,CAACI,QAAQ,CAAC,IAAI,CAACF,MAAM,EAAE,IAAI,CAACC,MAAM,CAAC;MAE7C,IACEE,QAAQ,CAACC,UAAU,KAAK,UAAU,IAClCD,QAAQ,CAACC,UAAU,KAAK,QAAQ,IAChCD,QAAQ,CAACC,UAAU,KAAK,aAAa,EACrC;QACA,IAAI,CAACC,WAAW,EAAE;MACpB,CAAC,MAAM;QACLF,QAAQ,CAACG,gBAAgB,CAAC,kBAAkB,EAAE,YAAM;UAClDd,MAAI,CAACa,WAAW,EAAE;QACpB,CAAC,CAAC;MACJ;MAEA,OAAO,IAAIE,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;QACtCtC,IAAI,CAACuC,MAAM,CACRC,GAAG,CACF1G,MAAM,CAAC2G,IAAI,CAACpB,MAAI,CAACqB,UAAU,CAAC,CAACC,GAAG,CAAC,UAACC,CAAC,EAAK;UACtC,OAAO;YACLC,IAAI,EAAED,CAAC;YACPE,GAAG,EAAEzB,MAAI,CAACZ,eAAe,GAAGY,MAAI,CAACqB,UAAU,CAACE,CAAC;UAC/C,CAAC;QACH,CAAC,CAAC,CACH,CACAG,IAAI,CAAC,YAAM;UACV1B,MAAI,CAACb,OAAO,GAAG,IAAI;UACnBa,MAAI,CAAC2B,UAAU,EAAE;UAEjB,IAAIC,iBAAK,CAACC,aAAa,EAAE,EAAE;YACzBlB,QAAQ,CAACmB,IAAI,CAACC,SAAS,CAACZ,GAAG,CAAC,OAAO,CAAC;UACtC,CAAC,MAAM,IAAIa,WAAW,EAAE,EAAE;YACxBrB,QAAQ,CAACmB,IAAI,CAACC,SAAS,CAACZ,GAAG,CAAC,KAAK,CAAC;UACpC,CAAC,MAAM,IAAIc,SAAS,EAAE,EAAE;YACtBtB,QAAQ,CAACmB,IAAI,CAACC,SAAS,CAACZ,GAAG,CAAC,IAAI,CAAC;UACnC;UAEAH,OAAO,EAAE;UAEThB,MAAI,CAACjB,UAAU,CAACmD,IAAI,CAAC,gBAAgB,CAAC;QACxC,CAAC,CAAC;MACN,CAAC,CAAC;IACJ;EAAC;IAAAtH,GAAA;IAAA6B,KAAA,EAED,SAAAoE,YAAA,EAAc;MACZ,IAAI,CAACsB,QAAQ,GAAGxD,IAAI,CAACyD,kBAAkB,CAAC,IAAI,CAACnC,aAAa,EAAE,IAAI,CAACG,cAAc,CAAC;MAChFO,QAAQ,CAACmB,IAAI,CAACO,aAAa,CAAC,gBAAgB,CAAC,CAACC,WAAW,CAAC,IAAI,CAACH,QAAQ,CAACI,IAAI,CAAC;IAC/E;EAAC;IAAA3H,GAAA;IAAA6B,KAAA,EAED,SAAAkF,WAAA,EAAa;MAAA,IAAAa,MAAA;MACXtC,MAAM,CAACY,gBAAgB,CAAC,QAAQ,EAAE,YAAM;QACtC0B,MAAI,CAACC,eAAe,EAAE;MACxB,CAAC,CAAC;MAEF,IAAI,CAACC,SAAS,GAAG;QAAEnB,CAAC,EAAE,CAAC;QAAEoB,CAAC,EAAE;MAAE,CAAC;MAC/B,IAAI,CAACC,MAAM,GAAG,IAAIjE,IAAI,CAAC4B,SAAS,EAAE;MAClC,IAAI,CAACqC,MAAM,CAAClC,QAAQ,CAAC,IAAI,CAACF,MAAM,EAAE,IAAI,CAACC,MAAM,CAAC;;MAE9C;MACA,IAAI,CAACf,GAAG,GAAG,IAAIf,IAAI,CAACkE,MAAM,CAACC,YAAY,CAACnE,IAAI,CAACuC,MAAM,CAAC6B,SAAS,CAACrD,GAAG,CAACsD,OAAO,EAAE,IAAI,CAAC/C,aAAa,EAAE,IAAI,CAACG,cAAc,CAAC;MACnH,IAAI,CAACT,GAAG,GAAG,IAAIhB,IAAI,CAACkE,MAAM,CAACC,YAAY,CAACnE,IAAI,CAACuC,MAAM,CAAC6B,SAAS,CAACpD,GAAG,CAACqD,OAAO,EAAE,IAAI,CAAC/C,aAAa,EAAE,IAAI,CAACG,cAAc,CAAC;MACnH,IAAI,CAACR,GAAG,GAAG,IAAIjB,IAAI,CAACkE,MAAM,CAACC,YAAY,CAACnE,IAAI,CAACuC,MAAM,CAAC6B,SAAS,CAACnD,GAAG,CAACoD,OAAO,EAAE,IAAI,CAAC/C,aAAa,EAAE,IAAI,CAACG,cAAc,CAAC;MACnH,IAAI,CAACP,GAAG,GAAG,IAAIlB,IAAI,CAACkE,MAAM,CAACC,YAAY,CAACnE,IAAI,CAACuC,MAAM,CAAC6B,SAAS,CAAClD,GAAG,CAACmD,OAAO,EAAE,IAAI,CAAC/C,aAAa,EAAE,IAAI,CAACG,cAAc,CAAC;MAEnH,IAAI,CAACR,GAAG,CAACqD,SAAS,GAAGtE,IAAI,CAACuE,WAAW,CAACC,GAAG;MACzC,IAAI,CAACtD,GAAG,CAACoD,SAAS,GAAGtE,IAAI,CAACuE,WAAW,CAACC,GAAG;MACzC,IAAI,CAACtD,GAAG,CAACuD,KAAK,GAAG,GAAG;MAEpB,IAAI,CAAC9C,KAAK,CAACI,QAAQ,CAAC,IAAI,CAAChB,GAAG,EAAE,IAAI,CAACC,GAAG,EAAE,IAAI,CAACC,GAAG,EAAE,IAAI,CAACC,GAAG,CAAC;MAC3D,IAAI,CAACS,KAAK,CAACI,QAAQ,CAAC,IAAI,CAACkC,MAAM,CAAC;;MAEhC;MACA;;MAEA;MACA;MACA;MACA;MACA;;MAEA,IAAI,CAACS,WAAW,GAAGC,IAAI,CAACC,GAAG,EAAE;MAC7B;MACA,IAAI,iBAAiB,IAAI3B,iBAAK,CAAC4B,UAAU,EAAE,EAAE;QAC3C,IAAIC,QAAQ,GAAG,IAAI9E,IAAI,CAAC+E,QAAQ,EAAE;QAClCD,QAAQ,CAACE,SAAS,CAAC,QAAQ,CAAC;QAC5BF,QAAQ,CAACL,KAAK,GAAG,GAAG;QACpBK,QAAQ,CAACG,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC7E,UAAU,CAAC8E,aAAa,CAACC,KAAK,EAAE,IAAI,CAAC/E,UAAU,CAAC8E,aAAa,CAACE,MAAM,CAAC;QAClG,IAAI,CAACnB,MAAM,CAAClC,QAAQ,CAAC+C,QAAQ,CAAC;MAChC;IACF;EAAC;IAAA7I,GAAA;IAAA6B,KAAA,EAED,SAAAgG,gBAAA,EAAkB;MAChB,IAAI,CAACxC,aAAa,GAAGC,MAAM,CAACC,UAAU;MACtC,IAAI,CAACC,cAAc,GAAGF,MAAM,CAACG,WAAW;MAExC,IAAI,CAACX,GAAG,CAACoE,KAAK,GAAG,IAAI,CAAC7D,aAAa;MACnC,IAAI,CAACP,GAAG,CAACqE,MAAM,GAAG,IAAI,CAAC3D,cAAc;MACrC,IAAI,CAACT,GAAG,CAACmE,KAAK,GAAG,IAAI,CAAC7D,aAAa;MACnC,IAAI,CAACN,GAAG,CAACoE,MAAM,GAAG,IAAI,CAAC3D,cAAc;MACrC,IAAI,CAACR,GAAG,CAACkE,KAAK,GAAG,IAAI,CAAC7D,aAAa;MACnC,IAAI,CAACL,GAAG,CAACmE,MAAM,GAAG,IAAI,CAAC3D,cAAc;MACrC,IAAI,CAACP,GAAG,CAACiE,KAAK,GAAG,IAAI,CAAC7D,aAAa;MACnC,IAAI,CAACJ,GAAG,CAACkE,MAAM,GAAG,IAAI,CAAC3D,cAAc;MAErC,IAAI,CAAC+B,QAAQ,CAAC6B,MAAM,CAAC,IAAI,CAAC/D,aAAa,EAAE,IAAI,CAACG,cAAc,CAAC;IAC/D;EAAC;IAAAxF,GAAA;IAAA6B,KAAA,EAED,SAAAwH,KAAKC,CAAC,EAAEC,EAAE,EAAE;MACVrI,IAAA,CAAAe,eAAA,CAAA+B,eAAA,CAAA5D,SAAA,iBAAAY,IAAA,OAAWsI,CAAC,EAAEC,EAAE;MAEhB,IAAIZ,GAAG,GAAGD,IAAI,CAACC,GAAG,EAAE;MAEpB,IAAI,CAAC,IAAI,CAACpE,OAAO,EAAE,OAAO,CAAC;MAC3B,IAAIiF,UAAU,GAAG,IAAI,CAACrF,UAAU,CAAC8E,aAAa,CAACC,KAAK;MACpD,IAAIO,WAAW,GAAG,IAAI,CAACtF,UAAU,CAAC8E,aAAa,CAACE,MAAM;MAEtD,IAAIO,sBAAsB,GAAG,IAAI,CAAC1B,MAAM,CAACrB,CAAC,GAAG,IAAI,CAACtB,aAAa,GAAGmE,UAAU;MAC5E,IAAIG,qBAAqB,GAAG,IAAI,CAAC3B,MAAM,CAACrB,CAAC,GAAG,CAAC;MAC7C,IAAIiD,oBAAoB,GAAG,IAAI,CAAC5B,MAAM,CAACD,CAAC,GAAG,CAAC;MAC5C,IAAI8B,uBAAuB,GAAG,IAAI,CAAC7B,MAAM,CAACD,CAAC,GAAG,IAAI,CAACvC,cAAc,GAAGiE,WAAW;MAE/E,SAAAK,EAAA,MAAAC,YAAA,GAAkBlK,MAAM,CAAC2G,IAAI,CAAC,IAAI,CAAClC,OAAO,CAAC,EAAAwF,EAAA,GAAAC,YAAA,CAAAvK,MAAA,EAAAsK,EAAA,IAAE;QAAxC,IAAIE,KAAK,GAAAD,YAAA,CAAAD,EAAA;QACZ,IAAIG,OAAO,GAAG,IAAI,CAAC9F,UAAU,CAAC+F,KAAK,CAACC,OAAO,CAACH,KAAK,CAAC;QAClD,IAAII,MAAM,GAAG,IAAI,CAAC9F,OAAO,CAAC0F,KAAK,CAAC;QAEhC,IAAIC,OAAO,EAAE;UACX;UACA,IAAIG,MAAM,CAACC,KAAK,IAAID,MAAM,CAACC,KAAK,CAACC,aAAa,EAAE;YAC9CF,MAAM,CAACC,KAAK,CAACC,aAAa,CAAChD,IAAI,GAAG,CAAC,CAAC2C,OAAO,CAACM,UAAU;UACxD;UAEA,IAAIN,OAAO,YAAYO,gBAAI,IAAIJ,MAAM,IAAI,IAAI,CAACK,UAAU,EAAE;YACxD,IAAI,CAACC,wBAAwB,CAACT,OAAO,CAAC;UACxC;UAEAG,MAAM,CAACzD,CAAC,GAAGsD,OAAO,CAACU,QAAQ,CAAChE,CAAC;UAC7ByD,MAAM,CAACrC,CAAC,GAAGkC,OAAO,CAACU,QAAQ,CAAC5C,CAAC;UAE7B,IAAIkC,OAAO,YAAYO,gBAAI,EAAE;YAC3BJ,MAAM,CAACC,KAAK,CAACO,mBAAmB,CAACC,QAAQ,GAAI,IAAI,CAAC1G,UAAU,CAAC+F,KAAK,CAACC,OAAO,CAACH,KAAK,CAAC,CAACc,KAAK,GAAGC,IAAI,CAACC,EAAE,GAAI,GAAG;UAC1G,CAAC,MAAM;YACLZ,MAAM,CAACS,QAAQ,GAAI,IAAI,CAAC1G,UAAU,CAAC+F,KAAK,CAACC,OAAO,CAACH,KAAK,CAAC,CAACc,KAAK,GAAGC,IAAI,CAACC,EAAE,GAAI,GAAG;UAChF;;UAEA;UACA,IACEZ,MAAM,IAAI,IAAI,CAACK,UAAU,IACzBd,qBAAqB,IACrBM,OAAO,CAACU,QAAQ,CAAChE,CAAC,GAAG,IAAI,CAACtB,aAAa,GAAG,IAAI,CAAC2C,MAAM,CAACrB,CAAC,EACvD;YACAyD,MAAM,CAACzD,CAAC,GAAGsD,OAAO,CAACU,QAAQ,CAAChE,CAAC,GAAG6C,UAAU;UAC5C;UACA,IAAIY,MAAM,IAAI,IAAI,CAACK,UAAU,IAAIf,sBAAsB,IAAIO,OAAO,CAACU,QAAQ,CAAChE,CAAC,GAAG,CAAC,IAAI,CAACqB,MAAM,CAACrB,CAAC,EAAE;YAC9FyD,MAAM,CAACzD,CAAC,GAAGsD,OAAO,CAACU,QAAQ,CAAChE,CAAC,GAAG6C,UAAU;UAC5C;UACA,IACEY,MAAM,IAAI,IAAI,CAACK,UAAU,IACzBb,oBAAoB,IACpBK,OAAO,CAACU,QAAQ,CAAC5C,CAAC,GAAG,IAAI,CAACvC,cAAc,GAAG,IAAI,CAACwC,MAAM,CAACD,CAAC,EACxD;YACAqC,MAAM,CAACrC,CAAC,GAAGkC,OAAO,CAACU,QAAQ,CAAC5C,CAAC,GAAG0B,WAAW;UAC7C;UACA,IAAIW,MAAM,IAAI,IAAI,CAACK,UAAU,IAAIZ,uBAAuB,IAAII,OAAO,CAACU,QAAQ,CAAC5C,CAAC,GAAG,CAAC,IAAI,CAACC,MAAM,CAACD,CAAC,EAAE;YAC/FqC,MAAM,CAACrC,CAAC,GAAGkC,OAAO,CAACU,QAAQ,CAAC5C,CAAC,GAAG0B,WAAW;UAC7C;QACF;QAEA,IAAIW,MAAM,EAAE;UACV;UACA,IAAIA,MAAM,CAACC,KAAK,IAAID,MAAM,CAACC,KAAK,CAACY,UAAU,EAAE;YAC3Cb,MAAM,CAACC,KAAK,CAACY,UAAU,CAACtC,GAAG,GAAG,IAAI,CAACF,WAAW,CAAC;UACjD;QACF;;QAEA;MACF;;MAEA,IAAIyC,YAAY;MAChB,IAAI,IAAI,CAACT,UAAU,EAAE;QACnBS,YAAY,GAAG,IAAI,CAACT,UAAU;QAC9B;MACF,CAAC,MAAM,IAAI,CAAC,IAAI,CAACU,WAAW,IAAI,CAACD,YAAY,EAAE;QAC7C;QACAA,YAAY,GAAGE,WAAW,CAAC,IAAI,CAACjH,UAAU,CAAC+F,KAAK,CAACC,OAAO,CAAC;QACzD,IAAI,CAACkB,UAAU,GAAG,IAAI;MACxB;MAEA,IAAIH,YAAY,EAAE;QAChB;QACA;;QAEA;QACA,IAAI,IAAI,CAACG,UAAU,EAAE;UACnB,IAAIC,eAAe,GAAGJ,YAAY,CAACvE,CAAC,GAAG,IAAI,CAACmB,SAAS,CAACnB,CAAC;UACvD,IAAI4E,eAAe,GAAGL,YAAY,CAACnD,CAAC,GAAG,IAAI,CAACD,SAAS,CAACC,CAAC;UACvD,IAAIyD,iBAAiB;UACrB,IAAIC,iBAAiB;UAErB,IAAIH,eAAe,GAAG9B,UAAU,GAAG,CAAC,EAAE;YACpC,IAAI,CAAC9E,QAAQ,EAAE;YACf8G,iBAAiB,GAAG,IAAI,CAAC1D,SAAS,CAACnB,CAAC,GAAG6C,UAAU;UACnD,CAAC,MAAM,IAAI8B,eAAe,GAAG,CAAC9B,UAAU,GAAG,CAAC,EAAE;YAC5C,IAAI,CAAC9E,QAAQ,EAAE;YACf8G,iBAAiB,GAAG,IAAI,CAAC1D,SAAS,CAACnB,CAAC,GAAG6C,UAAU;UACnD,CAAC,MAAM;YACLgC,iBAAiB,GAAG,IAAI,CAAC1D,SAAS,CAACnB,CAAC,GAAG2E,eAAe,GAAG,IAAI;UAC/D;UAEA,IAAIC,eAAe,GAAG9B,WAAW,GAAG,CAAC,EAAE;YACrCgC,iBAAiB,GAAG,IAAI,CAAC3D,SAAS,CAACC,CAAC,GAAG0B,WAAW;YAClD,IAAI,CAAC9E,QAAQ,EAAE;UACjB,CAAC,MAAM,IAAI4G,eAAe,GAAG,CAAC9B,WAAW,GAAG,CAAC,EAAE;YAC7C,IAAI,CAAC9E,QAAQ,EAAE;YACf8G,iBAAiB,GAAG,IAAI,CAAC3D,SAAS,CAACC,CAAC,GAAG0B,WAAW;UACpD,CAAC,MAAM;YACLgC,iBAAiB,GAAG,IAAI,CAAC3D,SAAS,CAACC,CAAC,GAAGwD,eAAe,GAAG,IAAI;UAC/D;UAEA,IAAI,CAACG,YAAY,CAACF,iBAAiB,EAAEC,iBAAiB,CAAC;QACzD,CAAC,MAAM;UACL,IAAI,CAACC,YAAY,CAACR,YAAY,CAACvE,CAAC,EAAEuE,YAAY,CAACnD,CAAC,CAAC;QACnD;MACF;MAEA,IAAI4D,SAAS,GAAG,IAAI,CAACjH,QAAQ,GAAG8E,UAAU,GAAG,IAAI,CAACxB,MAAM,CAACrB,CAAC;MAC1D,IAAIiF,SAAS,GAAG,IAAI,CAACjH,QAAQ,GAAG8E,WAAW,GAAG,IAAI,CAACzB,MAAM,CAACD,CAAC;MAE3D,IAAI,CAACjD,GAAG,CAAC+G,YAAY,CAAClF,CAAC,GAAGgF,SAAS,GAAG,IAAI;MAC1C,IAAI,CAAC7G,GAAG,CAAC+G,YAAY,CAAC9D,CAAC,GAAG6D,SAAS,GAAG,IAAI;MAE1C,IAAI,CAAC7G,GAAG,CAAC8G,YAAY,CAAClF,CAAC,GAAGgF,SAAS,GAAG,IAAI;MAC1C,IAAI,CAAC5G,GAAG,CAAC8G,YAAY,CAAC9D,CAAC,GAAG6D,SAAS,GAAG,IAAI;MAE1C,IAAI,CAAC5G,GAAG,CAAC6G,YAAY,CAAClF,CAAC,GAAGgF,SAAS,GAAG,GAAG;MACzC,IAAI,CAAC3G,GAAG,CAAC6G,YAAY,CAAC9D,CAAC,GAAG6D,SAAS,GAAG,GAAG;MAEzC,IAAI,CAAC3G,GAAG,CAAC4G,YAAY,CAAClF,CAAC,GAAGgF,SAAS,GAAG,IAAI;MAC1C,IAAI,CAAC1G,GAAG,CAAC4G,YAAY,CAAC9D,CAAC,GAAG6D,SAAS,GAAG,IAAI;MAE1C,IAAI,CAACnD,WAAW,GAAGE,GAAG;;MAEtB;MACA,IAAI,CAACpB,QAAQ,CAACuE,MAAM,CAAC,IAAI,CAACpG,KAAK,CAAC;IAClC;EAAC;IAAA1F,GAAA;IAAA6B,KAAA,EAED,SAAAkK,cAAc3B,MAAM,EAAE;MACpB,IAAI,CAACK,UAAU,GAAGL,MAAM;MACxBA,MAAM,CAACC,KAAK,CAAC2B,UAAU,CAACC,IAAI,GAAG,QAAQ,CAAC,CAAC;MACzClG,QAAQ,CAACmB,IAAI,CAACC,SAAS,CAAC+E,MAAM,CAAC,UAAU,CAAC;MAC1C,IAAI,CAACnG,QAAQ,CAACmB,IAAI,CAACC,SAAS,CAACgF,QAAQ,CAAC,cAAc,CAAC,EAAE;QACrDpG,QAAQ,CAACmB,IAAI,CAACC,SAAS,CAACZ,GAAG,CAAC,UAAU,CAAC;MACzC;MACAR,QAAQ,CAACmB,IAAI,CAACC,SAAS,CAAC+E,MAAM,CAAC,UAAU,CAAC;MAC1CnG,QAAQ,CAACmB,IAAI,CAACC,SAAS,CAACZ,GAAG,CAAC,YAAY,CAAC;MACzCR,QAAQ,CAAC0B,aAAa,CAAC,WAAW,CAAC,CAAC2E,QAAQ,GAAG,IAAI;MACnDrG,QAAQ,CAAC0B,aAAa,CAAC,WAAW,CAAC,CAAC2E,QAAQ,GAAG,IAAI;MACnDrG,QAAQ,CAAC0B,aAAa,CAAC,WAAW,CAAC,CAAC4E,KAAK,CAACC,OAAO,GAAG,CAAC;MAErD,IAAI,CAACnB,WAAW,GAAG,IAAI,CAAC,CAAC;;MAEzB;MACAoB,UAAU,CAAC,YAAM;QACfxG,QAAQ,CAACmB,IAAI,CAACC,SAAS,CAAC+E,MAAM,CAAC,UAAU,CAAC;MAC5C,CAAC,EAAE,KAAK,CAAC;IACX;;IAEA;AACF;AACA;AACA;AACA;EAJE;IAAAlM,GAAA;IAAA6B,KAAA,EAKA,SAAA6J,aAAac,OAAO,EAAEC,OAAO,EAAE;MAC7B,IAAIC,KAAK,CAACF,OAAO,CAAC,IAAIE,KAAK,CAACD,OAAO,CAAC,EAAE;MACtC,IAAI,CAAC,IAAI,CAACE,kBAAkB,EAAE;QAC5B,IAAI,CAACA,kBAAkB,GAAG,CAAC,CAAC;MAC9B;MAEA,IAAI,CAACA,kBAAkB,CAAChG,CAAC,GAAG,IAAI,CAACqB,MAAM,CAACrB,CAAC;MACzC,IAAI,CAACgG,kBAAkB,CAAC5E,CAAC,GAAG,IAAI,CAACC,MAAM,CAACD,CAAC;MAEzC,IAAI,CAACC,MAAM,CAACrB,CAAC,GAAG,IAAI,CAACtB,aAAa,GAAG,CAAC,GAAGmH,OAAO;MAChD,IAAI,CAACxE,MAAM,CAACD,CAAC,GAAG,IAAI,CAACvC,cAAc,GAAG,CAAC,GAAGiH,OAAO;MACjD,IAAI,CAAC3E,SAAS,CAACnB,CAAC,GAAG6F,OAAO;MAC1B,IAAI,CAAC1E,SAAS,CAACC,CAAC,GAAG0E,OAAO;IAC5B;EAAC;IAAAzM,GAAA;IAAA6B,KAAA,EAED,SAAA+K,sBAAsB3C,OAAO,EAAE;MAC7B,IAAI4C,SAAS,GAAG9G,QAAQ,CAAC0B,aAAa,CAAC,8BAA8B,CAAC;MACtE,IAAIqF,WAAW,GAAG/G,QAAQ,CAACgH,aAAa,CAAC,KAAK,CAAC;MAC/CD,WAAW,CAACE,YAAY,CAAC,IAAI,EAAE,oBAAoB,GAAG/C,OAAO,CAACgD,EAAE,CAAC;MACjEH,WAAW,CAAC3F,SAAS,CAACZ,GAAG,CAAC,oBAAoB,CAAC;MAC/CsG,SAAS,CAACnF,WAAW,CAACoF,WAAW,CAAC;IACpC;EAAC;IAAA9M,GAAA;IAAA6B,KAAA,EAED,SAAA6I,yBAAyBT,OAAO,EAAE;MAChC;MACA,IAAI,CAAC,IAAI,CAACQ,UAAU,EAAE;MAEtB,IAAIqC,WAAW,GAAG/G,QAAQ,CAAC0B,aAAa,CAAC,qBAAqB,GAAGwC,OAAO,CAACgD,EAAE,CAAC;MAC5E,IAAI,CAACH,WAAW,EAAE;QAChBI,OAAO,CAACC,KAAK,iCAAAC,MAAA,CAAiCnD,OAAO,CAACgD,EAAE,EAAG;QAC3D;MACF;MACA,IAAII,aAAa,GAAG,IAAI,CAAClJ,UAAU,CAAC+F,KAAK,CAACC,OAAO,CAAC,IAAI,CAACM,UAAU,CAACwC,EAAE,CAAC;MACrE,IAAIK,KAAK,GAAG,CAACrD,OAAO,CAACU,QAAQ,CAAC5C,CAAC,GAAGsF,aAAa,CAAC1C,QAAQ,CAAC5C,CAAC,KAAKkC,OAAO,CAACU,QAAQ,CAAChE,CAAC,GAAG0G,aAAa,CAAC1C,QAAQ,CAAChE,CAAC,CAAC;MAC7G,IAAI4G,CAAC,GAAG,IAAI,CAAC/H,cAAc,GAAG,CAAC;MAE/B,IAAIgI,OAAO,GAAG,EAAE;MAChB,IAAIC,YAAY,GAAG;QAAE9G,CAAC,EAAE,CAAC;QAAEoB,CAAC,EAAE;MAAE,CAAC;MAEjC,IAAIkC,OAAO,CAACU,QAAQ,CAAC5C,CAAC,GAAGsF,aAAa,CAAC1C,QAAQ,CAAC5C,CAAC,GAAG,IAAI,CAACvC,cAAc,GAAG,CAAC,EAAE;QAC3EiI,YAAY,CAAC9G,CAAC,GAAG,IAAI,CAACtB,aAAa,GAAG,CAAC,GAAG,CAACmI,OAAO,GAAGD,CAAC,IAAID,KAAK;QAC/DG,YAAY,CAAC1F,CAAC,GAAGyF,OAAO;MAC1B,CAAC,MAAM,IAAIvD,OAAO,CAACU,QAAQ,CAAC5C,CAAC,GAAGsF,aAAa,CAAC1C,QAAQ,CAAC5C,CAAC,GAAG,IAAI,CAACvC,cAAc,GAAG,CAAC,EAAE;QAClFiI,YAAY,CAAC9G,CAAC,GAAG,IAAI,CAACtB,aAAa,GAAG,CAAC,GAAG,CAAC,IAAI,CAACG,cAAc,GAAGgI,OAAO,GAAGD,CAAC,IAAID,KAAK;QACrFG,YAAY,CAAC1F,CAAC,GAAG,IAAI,CAACvC,cAAc,GAAGgI,OAAO;MAChD;MAEA,IAAIvD,OAAO,CAACU,QAAQ,CAAChE,CAAC,GAAG0G,aAAa,CAAC1C,QAAQ,CAAChE,CAAC,GAAG,IAAI,CAACtB,aAAa,GAAG,CAAC,EAAE;QAC1EoI,YAAY,CAAC9G,CAAC,GAAG6G,OAAO;QACxBC,YAAY,CAAC1F,CAAC,GAAGuF,KAAK,IAAI,CAAC,IAAI,CAACjI,aAAa,GAAG,CAAC,GAAGmI,OAAO,CAAC,GAAGD,CAAC;MAClE,CAAC,MAAM,IAAItD,OAAO,CAACU,QAAQ,CAAChE,CAAC,GAAG0G,aAAa,CAAC1C,QAAQ,CAAChE,CAAC,GAAG,IAAI,CAACtB,aAAa,GAAG,CAAC,EAAE;QACjFoI,YAAY,CAAC9G,CAAC,GAAG,IAAI,CAACtB,aAAa,GAAGmI,OAAO;QAC7CC,YAAY,CAAC1F,CAAC,GAAGuF,KAAK,IAAI,IAAI,CAACjI,aAAa,GAAG,CAAC,GAAGmI,OAAO,CAAC,GAAGD,CAAC;MACjE;MAEA,IAAIE,YAAY,CAAC9G,CAAC,IAAI,CAAC,IAAI8G,YAAY,CAAC1F,CAAC,IAAI,CAAC,EAAE;QAC9C+E,WAAW,CAACT,KAAK,CAACC,OAAO,GAAG,CAAC;MAC/B,CAAC,MAAM;QACLQ,WAAW,CAACT,KAAK,CAACC,OAAO,GAAG,CAAC;QAC7B,IAAIzB,QAAQ,GAAGE,IAAI,CAAC2C,KAAK,CACvBzD,OAAO,CAACU,QAAQ,CAAC5C,CAAC,GAAGsF,aAAa,CAAC1C,QAAQ,CAAC5C,CAAC,EAC7CkC,OAAO,CAACU,QAAQ,CAAChE,CAAC,GAAG0G,aAAa,CAAC1C,QAAQ,CAAChE,CAAC,CAC9C;QACDkE,QAAQ,GAAIA,QAAQ,GAAG,GAAG,GAAIE,IAAI,CAACC,EAAE,CAAC,CAAC;QACvC8B,WAAW,CAACT,KAAK,CAACsB,SAAS,iBAAAP,MAAA,CAAiBK,YAAY,CAAC9G,CAAC,qBAAAyG,MAAA,CAAkBK,YAAY,CAAC1F,CAAC,iBAAAqF,MAAA,CAAcvC,QAAQ,UAAO;MACzH;IACF;EAAC;IAAA7K,GAAA;IAAA6B,KAAA,EAED,SAAA+L,yBAAyB3D,OAAO,EAAE;MAChC,IAAI6C,WAAW,GAAG/G,QAAQ,CAAC0B,aAAa,CAAC,qBAAqB,GAAGwC,OAAO,CAACgD,EAAE,CAAC;MAC5E,IAAIH,WAAW,IAAIA,WAAW,CAACe,UAAU,EAAEf,WAAW,CAACe,UAAU,CAACC,WAAW,CAAChB,WAAW,CAAC;IAC5F;EAAC;IAAA9M,GAAA;IAAA6B,KAAA,EAED,SAAAkM,UAAUC,IAAI,EAAE;MACd,IAAIA,IAAI,CAACC,GAAG,EAAE;QACZC,EAAE,CAAC,cAAc,CAAC,CAACC,SAAS,GAAGH,IAAI,CAACC,GAAG;MACzC;MACA,IAAID,IAAI,CAACI,UAAU,EAAE;QACnBF,EAAE,CAAC,qBAAqB,CAAC,CAACC,SAAS,GAAGE,gBAAgB,CAACL,IAAI,CAACI,UAAU,EAAE,CAAC,CAAC;MAC5E;IACF;EAAC;IAAApO,GAAA;IAAA6B,KAAA,EAED,SAAAyM,YAAYN,IAAI,EAAE;MAChB,IAAIO,cAAc,GAAGL,EAAE,CAAC,QAAQ,CAAC;MACjC,IAAIM,UAAU,GAAG,EAAE;;MAEnB;MACA,IAAIC,QAAQ,GAAGF,cAAc,CAACG,gBAAgB,CAAC,OAAO,CAAC;MACvD,KAAK,IAAI/H,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8H,QAAQ,CAACjP,MAAM,EAAEmH,CAAC,EAAE,EAAE;QACxC,IAAIqH,IAAI,CAACS,QAAQ,CAAC9H,CAAC,CAAC,CAACgI,OAAO,CAAC3E,KAAK,CAAC,IAAI,IAAI,EAAE;UAC3CyE,QAAQ,CAAC9H,CAAC,CAAC,CAACkH,UAAU,CAACC,WAAW,CAACW,QAAQ,CAAC9H,CAAC,CAAC,CAAC;QACjD;MACF;MAEA,SAAAiI,GAAA,MAAAC,aAAA,GAAehP,MAAM,CAAC2G,IAAI,CAACwH,IAAI,CAAC,EAAAY,GAAA,GAAAC,aAAA,CAAArP,MAAA,EAAAoP,GAAA,IAAE;QAA7B,IAAI3B,EAAE,GAAA4B,aAAA,CAAAD,GAAA;QACT,IAAIE,OAAO,GAAGP,cAAc,CAAC9G,aAAa,kBAAA2F,MAAA,CAAkBH,EAAE,QAAK;QACnE;QACA,IAAI6B,OAAO,IAAI,IAAI,EAAE;UACnBA,OAAO,GAAG/I,QAAQ,CAACgH,aAAa,CAAC,KAAK,CAAC;UACvC+B,OAAO,CAAC3H,SAAS,CAACZ,GAAG,CAAC,MAAM,CAAC;UAC7B,IAAI,IAAI,CAACkE,UAAU,IAAI,IAAI,CAACA,UAAU,CAACwC,EAAE,IAAI8B,QAAQ,CAAC9B,EAAE,CAAC,EAAE6B,OAAO,CAAC3H,SAAS,CAACZ,GAAG,CAAC,KAAK,CAAC;UACvFuI,OAAO,CAACH,OAAO,CAAC3E,KAAK,GAAGiD,EAAE;UAC1BsB,cAAc,CAAC7G,WAAW,CAACoH,OAAO,CAAC;QACrC;;QAEA;QACA,IAAI,IAAI,CAACxK,OAAO,CAACyK,QAAQ,CAAC9B,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC3I,OAAO,CAACyK,QAAQ,CAAC9B,EAAE,CAAC,CAAC,CAAC5C,KAAK,CAAC2E,UAAU,CAAChB,IAAI,CAACf,EAAE,CAAC,CAACrG,IAAI,CAAC;QAE1FkI,OAAO,CAACX,SAAS,MAAAf,MAAA,CAAMY,IAAI,CAACf,EAAE,CAAC,CAACrG,IAAI,QAAAwG,MAAA,CAAKY,IAAI,CAACf,EAAE,CAAC,CAACgC,KAAK,CAAE;QAEzDT,UAAU,CAACU,IAAI,CAAC;UACdC,EAAE,EAAEL,OAAO;UACXd,IAAI,EAAEA,IAAI,CAACf,EAAE;QACf,CAAC,CAAC;MACJ;MAEAuB,UAAU,CAACY,IAAI,CAAC,UAACC,CAAC,EAAE9B,CAAC,EAAK;QACxB,OAAO8B,CAAC,CAACrB,IAAI,CAACiB,KAAK,GAAG1B,CAAC,CAACS,IAAI,CAACiB,KAAK;MACpC,CAAC,CAAC;MAEF,KAAK,IAAItI,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAG6H,UAAU,CAAChP,MAAM,EAAEmH,EAAC,EAAE,EAAE;QAC1C6H,UAAU,CAAC7H,EAAC,CAAC,CAACwI,EAAE,CAAC9C,KAAK,CAACsB,SAAS,iBAAAP,MAAA,CAAiBzG,EAAC,SAAM;MAC1D;IACF;EAAC;IAAA3G,GAAA;IAAA6B,KAAA,EAED,SAAAyN,YAAYzL,CAAC,EAAE;MACb,IAAI,IAAI,CAAC4G,UAAU,EAAE;QACnB,IAAI5G,CAAC,CAAC0L,OAAO,KAAK,IAAI,EAAE;UACtB,IAAI,CAAC9E,UAAU,CAACJ,KAAK,CAACC,aAAa,CAAChD,IAAI,GAAGzD,CAAC,CAAC2L,MAAM;QACrD;MACF;IACF;EAAC;IAAAxP,GAAA;IAAA6B,KAAA,EAED,SAAA4N,iBAAA,EAAmB;MACjB,IAAIC,cAAc,GACf3J,QAAQ,CAAC4J,iBAAiB,IAAI5J,QAAQ,CAAC4J,iBAAiB,KAAK,IAAI;MAAK;MACvE5J,QAAQ,CAAC6J,aAAa,IACtB7J,QAAQ,CAAC8J,kBAAkB;;MAE7B;MACA,IAAIC,YAAY,EAAE,EAAE;MAEpB,IAAIC,MAAM,GAAGhK,QAAQ,CAACiK,eAAe;MACrC,IAAI,CAACN,cAAc,EAAE;QACnB,IAAIK,MAAM,CAACE,iBAAiB,EAAE;UAC5BF,MAAM,CAACE,iBAAiB,EAAE;QAC5B,CAAC,MAAM,IAAIF,MAAM,CAACG,oBAAoB,EAAE;UACtCH,MAAM,CAACG,oBAAoB,EAAE;QAC/B,CAAC,MAAM,IAAIH,MAAM,CAACI,uBAAuB,EAAE;UACzC;UACA;UACA;QAAA;MAEJ;IACF;;IAEA;AACF;AACA;AACA;EAHE;IAAAnQ,GAAA;IAAA6B,KAAA,EAIA,SAAAuO,mBAAmBtR,GAAG,EAAE;MACtB;MACA,OAAO;QACL6H,CAAC,EAAE7H,GAAG,CAAC6L,QAAQ,CAAChE,CAAC,GAAG,IAAI,CAACqB,MAAM,CAACrB,CAAC;QACjCoB,CAAC,EAAEjJ,GAAG,CAAC6L,QAAQ,CAAC5C,CAAC,GAAG,IAAI,CAACC,MAAM,CAACD;MAClC,CAAC;IACH;EAAC;EAAA,OAAA/D,eAAA;AAAA,EAxd0CqM,iBAAQ;AAAAC,OAAA,cAAAtM,eAAA;AA2drD,SAASoH,WAAWA,CAACjB,OAAO,EAAE;EAC5B,IAAIoG,WAAW,GAAG,GAAG,CAAC,CAAC;EACvB,IAAIC,SAAS,GAAG,CAAC;EACjB,IAAIC,QAAQ,GAAG;IAAE9J,CAAC,EAAE,CAAC;IAAEoB,CAAC,EAAE;EAAE,CAAC;EAC7B,IAAI2I,YAAY,GAAG,IAAI;EAEvB,SAAAC,GAAA,MAAAC,aAAA,GAAe/Q,MAAM,CAAC2G,IAAI,CAAC2D,OAAO,CAAC,EAAAwG,GAAA,GAAAC,aAAA,CAAApR,MAAA,EAAAmR,GAAA,IAAE;IAAhC,IAAI1D,EAAE,GAAA2D,aAAA,CAAAD,GAAA;IACT,IAAI7R,GAAG,GAAGqL,OAAO,CAAC8C,EAAE,CAAC;IACrB,IAAInO,GAAG,YAAY0L,gBAAI,EAAE;MACvB,IAAIkG,YAAY,IAAI,IAAI,EAAEA,YAAY,GAAG5R,GAAG;MAE5C,IAAI+R,WAAW,GAAG9F,IAAI,CAAC+F,IAAI,CACzB/F,IAAI,CAACgG,GAAG,CAACL,YAAY,CAAC/F,QAAQ,CAAChE,CAAC,GAAG7H,GAAG,CAAC6L,QAAQ,CAAC5C,CAAC,EAAE,CAAC,CAAC,GAAGgD,IAAI,CAACgG,GAAG,CAACL,YAAY,CAAC/F,QAAQ,CAAC5C,CAAC,GAAGjJ,GAAG,CAAC6L,QAAQ,CAAC5C,CAAC,EAAE,CAAC,CAAC,CAC9G;MACD,IAAI2I,YAAY,IAAI5R,GAAG,IAAI+R,WAAW,GAAGN,WAAW,EAAE;QACpDE,QAAQ,CAAC9J,CAAC,IAAI7H,GAAG,CAAC6L,QAAQ,CAAChE,CAAC;QAC5B8J,QAAQ,CAAC1I,CAAC,IAAIjJ,GAAG,CAAC6L,QAAQ,CAAC5C,CAAC;QAC5ByI,SAAS,EAAE;MACb;IACF;EACF;EAEAC,QAAQ,CAAC9J,CAAC,IAAI6J,SAAS;EACvBC,QAAQ,CAAC1I,CAAC,IAAIyI,SAAS;EAEvB,OAAOC,QAAQ;AACjB;;AAEA;AACA,SAASvC,EAAEA,CAAC8C,QAAQ,EAAE;EACpB,OAAOjL,QAAQ,CAAC0B,aAAa,CAACuJ,QAAQ,CAAC;AACzC;AAEA,SAAS3C,gBAAgBA,CAAC4C,MAAM,EAAEC,MAAM,EAAE;EACxC,IAAIC,UAAU,GAAGpG,IAAI,CAACgG,GAAG,CAAC,EAAE,EAAEG,MAAM,CAAC;EACrC,IAAIE,WAAW,GAAGH,MAAM,GAAGE,UAAU;EACrC,IAAIE,YAAY,GAAGtG,IAAI,CAACqG,WAAW,GAAG,CAAC,GAAG,MAAM,GAAG,OAAO,CAAC,CAACA,WAAW,CAAC;EAExE,OAAOC,YAAY,GAAGF,UAAU;AAClC;AAEA,SAAS/J,WAAWA,CAAA,EAAG;EACrB,OAAOkK,SAAS,CAACC,QAAQ,CAACC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC/C;AAEA,SAASnK,SAASA,CAAA,EAAG;EACnB,OAAOiK,SAAS,CAACC,QAAQ,CAACC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC/C;AAEA,SAAS1B,YAAYA,CAAA,EAAG;EACtB,OAAOwB,SAAS,CAACC,QAAQ,CAACE,KAAK,CAAC,eAAe,CAAC,KAAK,IAAI;AAC3D"}