{"version":3,"file":"SpaaaceGameEngine.js","names":["_lanceGg","require","_Ship","_interopRequireDefault","_Missile","obj","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","prototype","arg","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","Number","_get","Reflect","get","bind","property","receiver","base","_superPropBase","desc","getOwnPropertyDescriptor","arguments","value","apply","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","SpaaaceGameEngine","_GameEngine","_super","options","_this","physicsEngine","SimplePhysicsEngine","gameEngine","collisions","type","collisionDistance","registerClasses","serializer","registerClass","Ship","Missile","initWorld","worldWrap","width","height","start","_this2","on","collisionObjects","keys","map","k","ship","find","missile","playerId","destroyMissile","id","trace","info","concat","emit","reduceVisibleThrust","processInput","inputData","isServer","playerShip","world","queryObject","instanceType","accelerate","showThrust","turnRight","turnLeft","makeMissile","messageIndex","makeShip","newShipX","Math","floor","random","worldSettings","newShipY","position","TwoVector","addObjectToWorld","console","log","toString","inputId","copy","velocity","angle","ownerId","roomName","_roomName","x","cos","PI","y","sin","timer","add","missileId","objects","removeObjectFromWorld","postStepEv","isReenact","ships","queryObjects","forEach","isInteger","GameEngine","exports"],"sources":["../../src/common/SpaaaceGameEngine.js"],"sourcesContent":["import { SimplePhysicsEngine, GameEngine, TwoVector } from \"lance-gg\";\nimport Ship from \"./Ship\";\nimport Missile from \"./Missile\";\n\nexport default class SpaaaceGameEngine extends GameEngine {\n  constructor(options) {\n    super(options);\n    this.physicsEngine = new SimplePhysicsEngine({\n      gameEngine: this,\n      collisions: {\n        type: \"brute\",\n        collisionDistance: 28,\n      },\n    });\n  }\n\n  registerClasses(serializer) {\n    serializer.registerClass(Ship);\n    serializer.registerClass(Missile);\n  }\n\n  initWorld() {\n    super.initWorld({\n      worldWrap: true,\n      width: 3000,\n      height: 3000,\n    });\n  }\n\n  start() {\n    super.start();\n\n    this.on(\"collisionStart\", (e) => {\n      let collisionObjects = Object.keys(e).map((k) => e[k]);\n      let ship = collisionObjects.find((o) => o instanceof Ship);\n      let missile = collisionObjects.find((o) => o instanceof Missile);\n\n      if (!ship || !missile) return;\n\n      // make sure not to process the collision between a missile and the ship that fired it\n      if (missile.playerId !== ship.playerId) {\n        this.destroyMissile(missile.id);\n        this.trace.info(() => `missile by ship=${missile.playerId} hit ship=${ship.id}`);\n        this.emit(\"missileHit\", { missile, ship });\n      }\n    });\n\n    this.on(\"postStep\", this.reduceVisibleThrust.bind(this));\n  }\n\n  processInput(inputData, playerId, isServer) {\n    super.processInput(inputData, playerId);\n\n    // get the player ship tied to the player socket\n    let playerShip = this.world.queryObject({\n      playerId: playerId,\n      instanceType: Ship,\n    });\n\n    if (playerShip) {\n      if (inputData.input == \"up\") {\n        playerShip.accelerate(0.05);\n        playerShip.showThrust = 5; // show thrust for next steps.\n      } else if (inputData.input == \"right\") {\n        playerShip.turnRight(2.5);\n      } else if (inputData.input == \"left\") {\n        playerShip.turnLeft(2.5);\n      } else if (inputData.input == \"space\") {\n        this.makeMissile(playerShip, inputData.messageIndex);\n        this.emit(\"fireMissile\");\n      }\n    }\n  }\n\n  // Makes a new ship, places it randomly and adds it to the game world\n  makeShip(playerId) {\n    let newShipX = Math.floor(Math.random() * (this.worldSettings.width - 200)) + 200;\n    let newShipY = Math.floor(Math.random() * (this.worldSettings.height - 200)) + 200;\n\n    let ship = new Ship(this, null, {\n      position: new TwoVector(newShipX, newShipY),\n    });\n\n    ship.playerId = playerId;\n    this.addObjectToWorld(ship);\n    console.log(`ship added: ${ship.toString()}`);\n\n    return ship;\n  }\n\n  makeMissile(playerShip, inputId) {\n    let missile = new Missile(this);\n\n    // we want the missile location and velocity to correspond to that of the ship firing it\n    missile.position.copy(playerShip.position);\n    missile.velocity.copy(playerShip.velocity);\n    missile.angle = playerShip.angle;\n    missile.playerId = playerShip.playerId;\n    missile.ownerId = playerShip.id;\n    missile.roomName = playerShip._roomName;\n    missile._roomName = playerShip._roomName;\n    missile.inputId = inputId; // this enables usage of the missile shadow object\n    missile.velocity.x += Math.cos(missile.angle * (Math.PI / 180)) * 10;\n    missile.velocity.y += Math.sin(missile.angle * (Math.PI / 180)) * 10;\n\n    this.trace.trace(() => `missile[${missile.id}] created vel=${missile.velocity}`);\n\n    let obj = this.addObjectToWorld(missile);\n\n    // if the object was added successfully to the game world, destroy the missile after some game ticks\n    if (obj) this.timer.add(30, this.destroyMissile, this, [obj.id]);\n\n    return missile;\n  }\n\n  // destroy the missile if it still exists\n  destroyMissile(missileId) {\n    if (this.world.objects[missileId]) {\n      this.trace.trace(() => `missile[${missileId}] destroyed`);\n      this.removeObjectFromWorld(missileId);\n    }\n  }\n\n  // at the end of the step, reduce the thrust for all objects\n  reduceVisibleThrust(postStepEv) {\n    if (postStepEv.isReenact) return;\n\n    let ships = this.world.queryObjects({\n      instanceType: Ship,\n    });\n\n    ships.forEach((ship) => {\n      if (Number.isInteger(ship.showThrust) && ship.showThrust >= 1) ship.showThrust--;\n    });\n  }\n}\n"],"mappings":"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"}