{"version":3,"sources":["../../../src/MetaverseCloudIntegrations/rtsdk/dataObject.js"],"names":["getAssetAndDataObject","req","body","assetId","interactivePublicKey","interactiveNonce","urlSlug","visitorId","DroppedAsset","get","credentials","droppedAsset","fetchDroppedAssetDataObject","console","log"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAEA;AACO,IAAMA,qBAAqB;AAAA,qEAAG,iBAAOC,GAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,wBAC6CA,GAAG,CAACC,IADjD,EAC3BC,OAD2B,aAC3BA,OAD2B,EAClBC,oBADkB,aAClBA,oBADkB,EACIC,gBADJ,aACIA,gBADJ,EACsBC,OADtB,aACsBA,OADtB,EAC+BC,SAD/B,aAC+BA,SAD/B;AAAA;AAAA;AAAA,mBAKNC,oBAAaC,GAAb,CAAiBN,OAAjB,EAA0BG,OAA1B,EAAmC;AAC5DI,cAAAA,WAAW,EAAE;AACXP,gBAAAA,OAAO,EAAPA,OADW;AAEXE,gBAAAA,gBAAgB,EAAhBA,gBAFW;AAGXD,gBAAAA,oBAAoB,EAApBA,oBAHW;AAIXG,gBAAAA,SAAS,EAATA;AAJW;AAD+C,aAAnC,CALM;;AAAA;AAK3BI,YAAAA,YAL2B;AAAA;AAAA,mBAc3BA,YAAY,CAACC,2BAAb,EAd2B;;AAAA;AAAA,6CAe1BD,YAf0B;;AAAA;AAAA;AAAA;AAiBjCE,YAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ;;AAjBiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAArBd,qBAAqB;AAAA;AAAA;AAAA,GAA3B","sourcesContent":["import { DroppedAsset } from \"./index.js\";\nimport 'regenerator-runtime/runtime'\n\n// Middleware to get the asset and object\nexport const getAssetAndDataObject = async (req) => {\n  const { assetId, interactivePublicKey, interactiveNonce, urlSlug, visitorId } = req.body;\n\n  try {\n    // Can do .create instead of .get if you don't need all the data inside the dropped asset\n    const droppedAsset = await DroppedAsset.get(assetId, urlSlug, {\n      credentials: {\n        assetId,\n        interactiveNonce,\n        interactivePublicKey,\n        visitorId,\n      },\n    });\n\n    await droppedAsset.fetchDroppedAssetDataObject();\n    return droppedAsset;\n  } catch (e) {\n    console.log(\"Error getting asset and data object\", e);\n  }\n};\n"],"file":"dataObject.js"}